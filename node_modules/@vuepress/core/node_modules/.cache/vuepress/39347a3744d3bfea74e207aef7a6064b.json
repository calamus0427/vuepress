{"remainingRequest":"/Users/calamus/calamus/my-project/vue-press/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/calamus/calamus/my-project/vue-press/node_modules/vuepress-theme-yubisaki/components/SearchBox.vue?vue&type=style&index=0&lang=stylus&","dependencies":[{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/vuepress-theme-yubisaki/components/SearchBox.vue","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/css-loader/index.js","mtime":1547178581738},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/postcss-loader/lib/index.js","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import '../styles/config.styl';\n\n.search-box {\n  display: inline-block;\n  position: relative;\n  margin-right: 0.5rem;\n\n  input {\n    cursor: pointer;\n    width: 10rem;\n    color: lighten($textColor, 25%);\n    display: inline-block;\n    border: 1px solid #e6ecf0;\n    border-radius: 2rem;\n    font-size: 0.9rem;\n    line-height: 2rem;\n    padding: 0 0.5rem 0 2rem;\n    outline: none;\n    transition: all 0.2s ease;\n    background: #f5f8fa url('../assets/search.svg') 0.6rem 0.5rem no-repeat;\n    background-size: 1rem;\n\n    &:focus {\n      cursor: auto;\n      background-color #fff;\n      border: 2px solid $focusColor;\n    }\n  }\n\n  .suggestions {\n    background: #fff;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.25);\n    width: 20rem;\n    position: absolute;\n    top: 2rem;\n    border-radius: 3px;\n    padding: 0.4rem;\n    list-style-type: none;\n\n    &.align-right {\n      right: 0;\n    }\n  }\n\n  .suggestion {\n    line-height: 1.4;\n    padding: 0.4rem 0.6rem;\n    border-radius: 3px;\n\n    a {\n      color: lighten($textColor, 35%);\n\n      .suggestion-title {\n        font-weight: 600;\n      }\n\n      .header {\n        font-size: 0.9em;\n        margin-left: 0.25em;\n      }\n    }\n\n    &.focused {\n      // background-color: #f3f4f5;\n      background-color lighten(#ebf8f3, 20%);\n\n      a {\n        color: $accentColor;\n      }\n    }\n  }\n}\n\n@media (max-width: $MQNarrow) {\n  .search-box input {\n    width: 0;\n    border-color: transparent;\n    position: relative;\n    left: 1rem;\n\n    &:focus {\n      left: 0;\n      width: 8rem;\n    }\n  }\n}\n\n@media (max-width: $MQMobile) {\n  .search-box {\n    margin-right: 0;\n\n    .suggestions {\n      right: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobileNarrow) {\n  .search-box {\n    .suggestions {\n      width: calc(100vw - 4rem);\n    }\n\n    input:focus {\n      width: 8rem;\n    }\n  }\n}\n",{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"SearchBox.vue","sourceRoot":"node_modules/vuepress-theme-yubisaki/components","sourcesContent":["<template>\n  <div class=\"search-box\">\n    <input\n      @input=\"query = $event.target.value\"\n      aria-label=\"Search\"\n      :value=\"query\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      @focus=\"focused = true\"\n      @blur=\"focused = false\"\n      @keyup.enter=\"go(focusIndex)\"\n      @keyup.up=\"onUp\"\n      @keyup.down=\"onDown\">\n    <ul class=\"suggestions\"\n      v-if=\"showSuggestions\"\n      :class=\"{ 'align-right': alignRight }\"\n      @mouseleave=\"unfocus\">\n      <li class=\"suggestion\" v-for=\"(s, i) in suggestions\"\n        :key=\"i\"\n        :class=\"{ focused: i === focusIndex }\"\n        @mousedown=\"go(i)\"\n        @mouseenter=\"focus(i)\">\n        <a :href=\"s.path\" @click.prevent>\n          <span class=\"suggestion-title\">{{ s.title || s.path }}</span>\n          <span v-if=\"s.header\" class=\"header\">&gt; {{ s.header.title }}</span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { pageNormalize } from \"../lib/util\";\n\nexport default {\n  data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0\n    };\n  },\n  computed: {\n    showSuggestions() {\n      return this.focused && this.suggestions && this.suggestions.length;\n    },\n    suggestions() {\n      const query = this.query.trim().toLowerCase();\n      if (!query) {\n        return;\n      }\n\n      const max = 5;\n      const pages = this.$pagination.all;\n      const localePath = this.$localePath;\n      const matches = item => {\n        const keywords = this.getKeywords(item);\n        return (\n          item.title && \n          item.title.toLowerCase().indexOf(query) > -1 ||\n          keywords.some(keyword => keyword.indexOf(query) > -1)\n        );\n      };\n      const res = [];\n      for (let i = 0; i < pages.length; i++) {\n        if (res.length >= max) break;\n        const p = pages[i];\n        // filter out results that do not match current locale\n        if (this.getPageLocalePath(p) !== localePath) {\n          continue;\n        }\n        if (matches(p)) {\n          res.push(p);\n        } else if (p.headers) {\n          for (let j = 0; j < p.headers.length; j++) {\n            if (res.length >= max) break;\n            const h = p.headers[j];\n            if (matches(h)) {\n              res.push(\n                Object.assign({}, p, {\n                  path: p.path + \"#\" + h.slug,\n                  header: h\n                })\n              );\n            }\n          }\n        }\n      }\n      return res;\n    },\n    // make suggestions align right when there are not enough items\n    alignRight() {\n      const navCount = (this.$site.themeConfig.nav || []).length;\n      return navCount <= 2;\n    }\n  },\n  methods: {\n    getKeywords(page) {\n      const metaList = (page.frontmatter ? page.frontmatter.meta : []) || [];\n      let keywords = metaList.filter(meta => meta.name === \"keywords\");\n      keywords = keywords.length ? keywords[0].content.split(\" \") : [];\n      return keywords.map(keyword => keyword.toLowerCase())\n    },\n    getPageLocalePath(page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== \"/\" && page.path.indexOf(localePath) === 0) {\n          return localePath;\n        }\n      }\n      return \"/\";\n    },\n    onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n    onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n    go(i) {\n      this.$router.push(this.suggestions[i].path);\n      this.query = \"\";\n      this.focusIndex = 0;\n    },\n    focus(i) {\n      this.focusIndex = i;\n    },\n    unfocus() {\n      this.focusIndex = -1;\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n@import '../styles/config.styl';\n\n.search-box {\n  display: inline-block;\n  position: relative;\n  margin-right: 0.5rem;\n\n  input {\n    cursor: pointer;\n    width: 10rem;\n    color: lighten($textColor, 25%);\n    display: inline-block;\n    border: 1px solid #e6ecf0;\n    border-radius: 2rem;\n    font-size: 0.9rem;\n    line-height: 2rem;\n    padding: 0 0.5rem 0 2rem;\n    outline: none;\n    transition: all 0.2s ease;\n    background: #f5f8fa url('../assets/search.svg') 0.6rem 0.5rem no-repeat;\n    background-size: 1rem;\n\n    &:focus {\n      cursor: auto;\n      background-color #fff;\n      border: 2px solid $focusColor;\n    }\n  }\n\n  .suggestions {\n    background: #fff;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.25);\n    width: 20rem;\n    position: absolute;\n    top: 2rem;\n    border-radius: 3px;\n    padding: 0.4rem;\n    list-style-type: none;\n\n    &.align-right {\n      right: 0;\n    }\n  }\n\n  .suggestion {\n    line-height: 1.4;\n    padding: 0.4rem 0.6rem;\n    border-radius: 3px;\n\n    a {\n      color: lighten($textColor, 35%);\n\n      .suggestion-title {\n        font-weight: 600;\n      }\n\n      .header {\n        font-size: 0.9em;\n        margin-left: 0.25em;\n      }\n    }\n\n    &.focused {\n      // background-color: #f3f4f5;\n      background-color lighten(#ebf8f3, 20%);\n\n      a {\n        color: $accentColor;\n      }\n    }\n  }\n}\n\n@media (max-width: $MQNarrow) {\n  .search-box input {\n    width: 0;\n    border-color: transparent;\n    position: relative;\n    left: 1rem;\n\n    &:focus {\n      left: 0;\n      width: 8rem;\n    }\n  }\n}\n\n@media (max-width: $MQMobile) {\n  .search-box {\n    margin-right: 0;\n\n    .suggestions {\n      right: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobileNarrow) {\n  .search-box {\n    .suggestions {\n      width: calc(100vw - 4rem);\n    }\n\n    input:focus {\n      width: 8rem;\n    }\n  }\n}\n</style>\n"]}]}