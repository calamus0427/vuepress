{"remainingRequest":"/Users/calamus/calamus/my-project/vue-press/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/calamus/calamus/my-project/vue-press/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/calamus/calamus/my-project/vue-press/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/calamus/calamus/my-project/vue-press/node_modules/vuepress-theme-yubisaki/components/SearchBox.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/vuepress-theme-yubisaki/components/SearchBox.vue","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/calamus/calamus/my-project/vue-press/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.map\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.filter\";\nimport _Object$assign from \"/Users/calamus/calamus/my-project/vue-press/node_modules/@babel/runtime-corejs2/core-js/object/assign\";\nimport \"core-js/modules/es6.array.some\";\nimport \"core-js/modules/es6.array.index-of\";\nimport \"core-js/modules/es6.string.trim\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { pageNormalize } from \"../lib/util\";\nexport default {\n  data: function data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0\n    };\n  },\n  computed: {\n    showSuggestions: function showSuggestions() {\n      return this.focused && this.suggestions && this.suggestions.length;\n    },\n    suggestions: function suggestions() {\n      var _this = this;\n\n      var query = this.query.trim().toLowerCase();\n\n      if (!query) {\n        return;\n      }\n\n      var max = 5;\n      var pages = this.$pagination.all;\n      var localePath = this.$localePath;\n\n      var matches = function matches(item) {\n        var keywords = _this.getKeywords(item);\n\n        return item.title && item.title.toLowerCase().indexOf(query) > -1 || keywords.some(function (keyword) {\n          return keyword.indexOf(query) > -1;\n        });\n      };\n\n      var res = [];\n\n      for (var i = 0; i < pages.length; i++) {\n        if (res.length >= max) break;\n        var p = pages[i]; // filter out results that do not match current locale\n\n        if (this.getPageLocalePath(p) !== localePath) {\n          continue;\n        }\n\n        if (matches(p)) {\n          res.push(p);\n        } else if (p.headers) {\n          for (var j = 0; j < p.headers.length; j++) {\n            if (res.length >= max) break;\n            var h = p.headers[j];\n\n            if (matches(h)) {\n              res.push(_Object$assign({}, p, {\n                path: p.path + \"#\" + h.slug,\n                header: h\n              }));\n            }\n          }\n        }\n      }\n\n      return res;\n    },\n    // make suggestions align right when there are not enough items\n    alignRight: function alignRight() {\n      var navCount = (this.$site.themeConfig.nav || []).length;\n      return navCount <= 2;\n    }\n  },\n  methods: {\n    getKeywords: function getKeywords(page) {\n      var metaList = (page.frontmatter ? page.frontmatter.meta : []) || [];\n      var keywords = metaList.filter(function (meta) {\n        return meta.name === \"keywords\";\n      });\n      keywords = keywords.length ? keywords[0].content.split(\" \") : [];\n      return keywords.map(function (keyword) {\n        return keyword.toLowerCase();\n      });\n    },\n    getPageLocalePath: function getPageLocalePath(page) {\n      for (var localePath in this.$site.locales || {}) {\n        if (localePath !== \"/\" && page.path.indexOf(localePath) === 0) {\n          return localePath;\n        }\n      }\n\n      return \"/\";\n    },\n    onUp: function onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n    onDown: function onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n    go: function go(i) {\n      this.$router.push(this.suggestions[i].path);\n      this.query = \"\";\n      this.focusIndex = 0;\n    },\n    focus: function focus(i) {\n      this.focusIndex = i;\n    },\n    unfocus: function unfocus() {\n      this.focusIndex = -1;\n    }\n  }\n};",{"version":3,"sources":["SearchBox.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"search-box\">\n    <input\n      @input=\"query = $event.target.value\"\n      aria-label=\"Search\"\n      :value=\"query\"\n      autocomplete=\"off\"\n      spellcheck=\"false\"\n      @focus=\"focused = true\"\n      @blur=\"focused = false\"\n      @keyup.enter=\"go(focusIndex)\"\n      @keyup.up=\"onUp\"\n      @keyup.down=\"onDown\">\n    <ul class=\"suggestions\"\n      v-if=\"showSuggestions\"\n      :class=\"{ 'align-right': alignRight }\"\n      @mouseleave=\"unfocus\">\n      <li class=\"suggestion\" v-for=\"(s, i) in suggestions\"\n        :key=\"i\"\n        :class=\"{ focused: i === focusIndex }\"\n        @mousedown=\"go(i)\"\n        @mouseenter=\"focus(i)\">\n        <a :href=\"s.path\" @click.prevent>\n          <span class=\"suggestion-title\">{{ s.title || s.path }}</span>\n          <span v-if=\"s.header\" class=\"header\">&gt; {{ s.header.title }}</span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { pageNormalize } from \"../lib/util\";\n\nexport default {\n  data() {\n    return {\n      query: \"\",\n      focused: false,\n      focusIndex: 0\n    };\n  },\n  computed: {\n    showSuggestions() {\n      return this.focused && this.suggestions && this.suggestions.length;\n    },\n    suggestions() {\n      const query = this.query.trim().toLowerCase();\n      if (!query) {\n        return;\n      }\n\n      const max = 5;\n      const pages = this.$pagination.all;\n      const localePath = this.$localePath;\n      const matches = item => {\n        const keywords = this.getKeywords(item);\n        return (\n          item.title && \n          item.title.toLowerCase().indexOf(query) > -1 ||\n          keywords.some(keyword => keyword.indexOf(query) > -1)\n        );\n      };\n      const res = [];\n      for (let i = 0; i < pages.length; i++) {\n        if (res.length >= max) break;\n        const p = pages[i];\n        // filter out results that do not match current locale\n        if (this.getPageLocalePath(p) !== localePath) {\n          continue;\n        }\n        if (matches(p)) {\n          res.push(p);\n        } else if (p.headers) {\n          for (let j = 0; j < p.headers.length; j++) {\n            if (res.length >= max) break;\n            const h = p.headers[j];\n            if (matches(h)) {\n              res.push(\n                Object.assign({}, p, {\n                  path: p.path + \"#\" + h.slug,\n                  header: h\n                })\n              );\n            }\n          }\n        }\n      }\n      return res;\n    },\n    // make suggestions align right when there are not enough items\n    alignRight() {\n      const navCount = (this.$site.themeConfig.nav || []).length;\n      return navCount <= 2;\n    }\n  },\n  methods: {\n    getKeywords(page) {\n      const metaList = (page.frontmatter ? page.frontmatter.meta : []) || [];\n      let keywords = metaList.filter(meta => meta.name === \"keywords\");\n      keywords = keywords.length ? keywords[0].content.split(\" \") : [];\n      return keywords.map(keyword => keyword.toLowerCase())\n    },\n    getPageLocalePath(page) {\n      for (const localePath in this.$site.locales || {}) {\n        if (localePath !== \"/\" && page.path.indexOf(localePath) === 0) {\n          return localePath;\n        }\n      }\n      return \"/\";\n    },\n    onUp() {\n      if (this.showSuggestions) {\n        if (this.focusIndex > 0) {\n          this.focusIndex--;\n        } else {\n          this.focusIndex = this.suggestions.length - 1;\n        }\n      }\n    },\n    onDown() {\n      if (this.showSuggestions) {\n        if (this.focusIndex < this.suggestions.length - 1) {\n          this.focusIndex++;\n        } else {\n          this.focusIndex = 0;\n        }\n      }\n    },\n    go(i) {\n      this.$router.push(this.suggestions[i].path);\n      this.query = \"\";\n      this.focusIndex = 0;\n    },\n    focus(i) {\n      this.focusIndex = i;\n    },\n    unfocus() {\n      this.focusIndex = -1;\n    }\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n@import '../styles/config.styl';\n\n.search-box {\n  display: inline-block;\n  position: relative;\n  margin-right: 0.5rem;\n\n  input {\n    cursor: pointer;\n    width: 10rem;\n    color: lighten($textColor, 25%);\n    display: inline-block;\n    border: 1px solid #e6ecf0;\n    border-radius: 2rem;\n    font-size: 0.9rem;\n    line-height: 2rem;\n    padding: 0 0.5rem 0 2rem;\n    outline: none;\n    transition: all 0.2s ease;\n    background: #f5f8fa url('../assets/search.svg') 0.6rem 0.5rem no-repeat;\n    background-size: 1rem;\n\n    &:focus {\n      cursor: auto;\n      background-color #fff;\n      border: 2px solid $focusColor;\n    }\n  }\n\n  .suggestions {\n    background: #fff;\n    box-shadow: 0 1px 4px rgba(0,0,0,0.25);\n    width: 20rem;\n    position: absolute;\n    top: 2rem;\n    border-radius: 3px;\n    padding: 0.4rem;\n    list-style-type: none;\n\n    &.align-right {\n      right: 0;\n    }\n  }\n\n  .suggestion {\n    line-height: 1.4;\n    padding: 0.4rem 0.6rem;\n    border-radius: 3px;\n\n    a {\n      color: lighten($textColor, 35%);\n\n      .suggestion-title {\n        font-weight: 600;\n      }\n\n      .header {\n        font-size: 0.9em;\n        margin-left: 0.25em;\n      }\n    }\n\n    &.focused {\n      // background-color: #f3f4f5;\n      background-color lighten(#ebf8f3, 20%);\n\n      a {\n        color: $accentColor;\n      }\n    }\n  }\n}\n\n@media (max-width: $MQNarrow) {\n  .search-box input {\n    width: 0;\n    border-color: transparent;\n    position: relative;\n    left: 1rem;\n\n    &:focus {\n      left: 0;\n      width: 8rem;\n    }\n  }\n}\n\n@media (max-width: $MQMobile) {\n  .search-box {\n    margin-right: 0;\n\n    .suggestions {\n      right: 0;\n    }\n  }\n}\n\n@media (max-width: $MQMobileNarrow) {\n  .search-box {\n    .suggestions {\n      width: calc(100vw - 4rem);\n    }\n\n    input:focus {\n      width: 8rem;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"node_modules/vuepress-theme-yubisaki/components"}]}